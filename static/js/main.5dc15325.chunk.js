(this["webpackJsonpredux-fundamentals-example"]=this["webpackJsonpredux-fundamentals-example"]||[]).push([[0],{1112:function(e,t){},1115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=a(3),s=(a(57),a(47)),u=a(7),i=a.n(u),d=a(14),m=a(1),f=a(46),p=a(48),v=["body"];function b(e){return h.apply(this,arguments)}function h(){return(h=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,l,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:{},n=a.body,r=Object(p.a)(a,v),o={"Content-Type":"application/json"},c=Object(m.a)(Object(m.a)({method:n?"POST":"GET"},r),{},{headers:Object(m.a)(Object(m.a)({},o),r.headers)}),n&&(c.body=JSON.stringify(n)),e.prev=4,e.next=7,window.fetch(t,c);case 7:return s=e.sent,e.next=10,s.json();case 10:if(l=e.sent,!s.ok){e.next=13;break}return e.abrupt("return",l);case 13:throw new Error(s.statusText);case 16:return e.prev=16,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:l));case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}b.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(e,Object(m.a)(Object(m.a)({},t),{},{method:"GET"}))},b.post=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b(e,Object(m.a)(Object(m.a)({},a),{},{body:t}))};var y=[];function E(){return(E=Object(d.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/fakeApi/todos");case 2:n=e.sent,t({type:"todos/todosLoaded",payload:n.todos});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g,O=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(l.c)();return r.a.createElement("header",{className:"header"},r.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){var t=a.trim();13===e.which&&t&&(c(function(e){return function(){var t=Object(d.a)(i.a.mark((function t(a,n){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={text:e},t.next=3,b.post("/fakeApi/todos",{todo:r});case 3:o=t.sent,a({type:"todos/todoAdded",payload:o.todo});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t)),o(""))}}))},j=["svgRef","title"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=function(e){var t=e.svgRef,a=e.title,n=w(e,j);return r.a.createElement("svg",x({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times",className:"svg-inline--fa fa-times fa-w-11",role:"img",viewBox:"0 0 352 512",ref:t},n),a?r.a.createElement("title",null,a):null,g||(g=r.a.createElement("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})))},N=r.a.forwardRef((function(e,t){return r.a.createElement(C,x({svgRef:t},e))})),k=(a.p,["green","blue","orange","purple","red"]),T=function(e){return e[0].toUpperCase()+e.slice(1)},A=function(e){var t=e.id,a=Object(l.d)((function(e){return function(e,t){return e.todos.find((function(e){return e.id===t}))}(e,t)})),n=a.text,o=a.completed,c=a.color,s=Object(l.c)(),u=k.map((function(e){return r.a.createElement("option",{key:e,value:e},T(e))}));return r.a.createElement("li",null,r.a.createElement("div",{className:"view"},r.a.createElement("div",{className:"segment label"},r.a.createElement("input",{className:"toggle",type:"checkbox",checked:o,onChange:function(){s({type:"todos/todoToggled",payload:a.id})}}),r.a.createElement("div",{className:"todo-text"},n)),r.a.createElement("div",{className:"segment buttons"},r.a.createElement("select",{className:"colorPicker",value:c,style:{color:c},onChange:function(e){var t=e.target.value;s({type:"todos/colorSelected",payload:{todoId:a.id,color:t}})}},r.a.createElement("option",{value:""}),u),r.a.createElement("button",{className:"destroy",onClick:function(){s({type:"todos/todoDeleted",payload:a.id})}},r.a.createElement(N,null)))))},S=function(e){return e.todos.map((function(e){return e.id}))},F=function(){var e=Object(l.d)(S,l.b).map((function(e){return r.a.createElement(A,{key:e,id:e})}));return r.a.createElement("ul",{className:"todo-list"},e)},I={All:"all",Active:"active",Completed:"completed"},R={status:I.All,colors:[]};var L=function(e){var t=e.count,a=1===t?"":"s";return r.a.createElement("div",{className:"todo-count"},r.a.createElement("h5",null,"Remaining Todos"),r.a.createElement("strong",null,t)," item",a," left")},M=function(e){var t=e.value,a=e.onChange,n=Object.keys(I).map((function(e){var n=I[e],o=n===t?"selected":"";return r.a.createElement("li",{key:n},r.a.createElement("button",{className:o,onClick:function(){return a(n)}},e))}));return r.a.createElement("div",{className:"filters statusFilters"},r.a.createElement("h5",null,"Filter by Status"),r.a.createElement("ul",null,n))},z=function(e){var t=e.value,a=e.onChange,n=k.map((function(e){var n=t.includes(e);return r.a.createElement("label",{key:e},r.a.createElement("input",{type:"checkbox",name:e,checked:n,onChange:function(){a(e,n?"removed":"added")}}),r.a.createElement("span",{className:"color-block",style:{backgroundColor:e}}),T(e))}));return r.a.createElement("div",{className:"filters colorFilters"},r.a.createElement("h5",null,"Filter by Color"),r.a.createElement("form",{className:"colorSelection"},n))},G=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.todos.filter((function(e){return!e.completed})).length})),a=Object(l.d)((function(e){return e.filters})),n=a.status,o=a.colors;return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"actions"},r.a.createElement("h5",null,"Actions"),r.a.createElement("button",{className:"button",onClick:function(){return e({type:"todos/allCompleted"})}},"Mark All Completed"),r.a.createElement("button",{className:"button",onClick:function(){return e({type:"todos/completedCleared"})}},"Clear Completed")),r.a.createElement(L,{count:t}),r.a.createElement(M,{value:n,onChange:function(t){return e({type:"filters/statusFilterChanged",payload:t})}}),r.a.createElement(z,{value:o,onChange:function(t,a){return e({type:"filters/colorFilterChanged",payload:{color:t,changeType:a}})}}))};var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("section",null,r.a.createElement("h1",null,"Redux Fundamentals Example"))),r.a.createElement("main",null,r.a.createElement("section",{className:"medium-container"},r.a.createElement("h2",null,"Todos"),r.a.createElement("div",{className:"todoapp"},r.a.createElement(O,null),r.a.createElement(F,null),r.a.createElement(G,null)))))},D=a(9),H=(a(34),a(27)),$=a.n(H),B=D.c.extend({serializeIds:"always"}),J=$()();var W=function(e){var t,a;return e[(t=0,a=e.length-1,t=Math.ceil(t),a=Math.floor(a),Math.floor(J()*(a-t+1))+t)]},q=[{base:"Buy $THING",values:["milk","bread","cheese","toys"]},{base:"Clean $THING",values:["house","yard","bedroom","car"]},{base:"Read $THING",values:["newspaper","book","email"]}];new D.d({routes:function(){this.namespace="fakeApi",this.resource("todos"),this.resource("lists");var e=this;this.post("/todos",(function(t,a){var n=this.normalizedRequestAttrs();if("error"===n.text)throw new Error("Could not save the todo!");return e.create("todo",n)}))},models:{todo:D.b.extend({}),list:D.b.extend({todos:Object(D.e)()})},factories:{todo:D.a.extend({id:function(e){return Number(e)},text:function(){return function(){var e=W(q),t=W(e.values);return e.base.replace("$THING",t)}()},completed:function(){return!1},color:function(){return""}})},serializers:{todo:B.extend({serialize:function(e,t){var a=function(e){e.id=Number(e.id)},n=B.prototype.serialize.apply(this,arguments);return n.todo?a(n.todo):n.todos&&n.todos.forEach(a),n}}),list:B},seeds:function(e){e.createList("todo",5)}});var K=a(11),U=a(45),Q=a(44),V=Object(K.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todos/todoAdded":return[].concat(Object(f.a)(e),[t.payload]);case"todos/todoToggled":return e.map((function(e){return e.id!==t.payload?e:Object(m.a)(Object(m.a)({},e),{},{completed:!e.completed})}));case"todos/colorSelected":var a=t.payload,n=a.color,r=a.todoId;return e.map((function(e){return e.id!==r?e:Object(m.a)(Object(m.a)({},e),{},{color:n})}));case"todos/todoDeleted":return e.filter((function(e){return e.id!==t.payload}));case"todos/allCompleted":return e.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{completed:!0})}));case"todos/completedCleared":return e.filter((function(e){return!e.completed}));case"todos/todosLoaded":return t.payload;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filters/statusFilterChanged":return Object(m.a)(Object(m.a)({},e),{},{status:t.payload});case"filters/colorFilterChanged":var a=t.payload,n=a.color,r=a.changeType,o=e.colors;switch(r){case"added":return o.includes(n)?e:Object(m.a)(Object(m.a)({},e),{},{colors:e.colors.concat(n)});case"removed":return Object(m.a)(Object(m.a)({},e),{},{colors:e.colors.filter((function(e){return e!==n}))});default:return e}default:return e}}}),X=Object(Q.composeWithDevTools)(Object(K.applyMiddleware)(U.a)),Y=Object(K.createStore)(V,X);Y.dispatch((function(e,t){return E.apply(this,arguments)})),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Y},r.a.createElement(P,null))),document.getElementById("root"))},49:function(e,t,a){e.exports=a(1115)},57:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.5dc15325.chunk.js.map